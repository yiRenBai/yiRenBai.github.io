<hr>
<p>title: Data Files</p>
<h2 id="description-NexT-User-Docs-–-Starting-to-Use-–-Data-Files"><a href="#description-NexT-User-Docs-–-Starting-to-Use-–-Data-Files" class="headerlink" title="description: NexT User Docs – Starting to Use – Data Files"></a>description: NexT User Docs – Starting to Use – Data Files</h2><p>Currently, it is not smooth to update NexT theme from pulling or downloading new releases. It is quite often running into conflict status when updating NexT theme via <code>git pull</code>, or need to merge configurations manually when upgrading to new releases.</p>
<p> At present, NexT encourages users to store some options in {% label info@site config file %} (<code>hexo/_config.yml</code>) and other options in {% label primary@theme config file %} (<code>next/_config.yml</code>). This approach is applicable, but has some drawbacks:</p>
<ol>
<li>Configurations are splitted into two pieces</li>
<li>Users may be confused which place should be for options</li>
</ol>
<p>In order to resolve this issue, NexT will take advantage of <a href="https://hexo.io/docs/data-files">Hexo Data files</a>. Because Data files is introduced in Hexo 3, so you need upgrade Hexo to 3.0 (or above) to use this feature.</p>
<p>If you prefer Hexo 2.x, you can still use the old approach for configurations. NexT is still compatible with Hexo 2.x (but errors are possible).</p>
<p>{% tabs option %}</p>
<!-- tab {% label success@Hexo-Way %} -->
<p>With this way, all your configurations locate in main {% label info@site config file %}.<br>You don’t need to edit {% label primary@theme config file %} or create any new files.<br>But you need to <strong><a href="/docs/troubleshooting/#Keep-up-indentation">keep up indentation</a></strong> within <code>theme_config</code> option.</p>
<p>{% note info %}<br>If there are any new options in new releases, you just need to copy those options from {% label primary@theme config file %}, paste into {% label info@site config file %} and set their values to whatever you want.<br>{% endnote %}</p>
<p><strong>Usage</strong></p>
<ol>
<li>Check for no exists <code>hexo/source/_data/next.yml</code> file (delete it if exists).</li>
<li>Copy needed NexT theme options from {% label primary@theme config file %} into {% label info@site config file %}, then<br>2.1. Move all this settings to the right with two spaces (in Visual Studio Code: select all strings, <kbd>CTRL</kbd> + <kbd>]</kbd>).<br>2.2. Add <code>theme_config:</code> parameter above all this settings.</li>
</ol>
<p><strong>Useful links</strong></p>
<ul>
<li><a href="https://hexo.io/docs/configuration#Overriding-Theme-Config">Hexo Configuration</a></li>
<li><a href="https://github.com/hexojs/hexo/pull/757">Hexo Pull #757</a></li>
</ul>
<!-- endtab -->

<!-- tab NexT-Way -->
<p>With this way, you can put all your configurations into one place (<code>hexo/source/_data/next.yml</code>).<br>You don’t need to edit {% label primary@theme config file %} (<code>next/_config.yml</code>).<br>But option may not accurately procces all hexo external libraries with their additional options (for example, <code>hexo-server</code> module options may be readed only in default hexo config).</p>
<p>{% note info %}<br>If there are any new options in new releases, you just need to copy those options from {% label primary@theme config file %}, paste into <code>hexo/source/_data/next.yml</code> and set their values to whatever you want.<br>{% endnote %}</p>
<p><strong>Usage</strong></p>
<ol>
<li><p>Please ensure you are using Hexo 3 (or above).</p>
</li>
<li><p>Create an file named <code>next.yml</code> in <code>hexo/source/_data</code> directory (create <code>_data</code> directory if it did not exists).</p>
<p>{% note warning %}<br>After that steps there are <strong>2 variants</strong>, need to <strong>choose only one</strong> of them and <strong>resume next steps</strong>.<br>{% endnote %}</p>
<p>{% subtabs variant %}</p>
<!-- tab <strong><code>override: false</code></strong> -->
<p>1. In <code>next.yml</code> <code>override</code> option must not be defined or set on <code>false</code>.<br>2. Copy <strong>needed options</strong> from both {% label info@site config file %} and {% label primary@theme config file %} into <code>hexo/source/_data/next.yml</code>.</p>
<!-- endtab -->

<!-- tab <code>override: true</code> -->
<p>1. In <code>next.yml</code> set <code>override</code> option on <code>true</code>.<br>2. Copy <strong>all NexT theme options</strong> from {% label primary@theme config file %} into <code>hexo/source/_data/next.yml</code>.</p>
<!-- endtab -->
<p>{% endsubtabs %}</p>
</li>
<li><p>Then, in main {% label info@site config file %} need to define <code>theme: next</code> option (and if needed, <code>source_dir: source</code>).</p>
</li>
<li><p>Use standart parameters to start server, generate or deploy (<code>hexo clean &amp;&amp; hexo g -d &amp;&amp; hexo s</code>).</p>
</li>
</ol>
<p>{% note danger %}<br>NexT uses <code>lodash/merge</code> to merge configs from <code>next.yml</code>, which might lead to the incorrect order of menu item. Since <code>lodash/merge</code> is using deep copy, even if you set the order of the menu items, they will follow the default order in <code>_config.yml</code>.<br>{% endnote %}</p>
<!-- endtab -->
<p>{% endtabs %}</p>
